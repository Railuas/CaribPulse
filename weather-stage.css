:root{
  --bg: #0a0a0a;
  --panel: #111216;
  --glass: rgba(255,255,255,.04);
  --text: #eaeef7;
  --muted: #9aa3b2;
  --accent: #ff335f;
  --ring: rgba(255,50,90,.25);
  --ok: #2ecc71;
  --warn: #f39c12;
  --bad: #e74c3c;
}

.weather-stage{
  position: relative;
  width: 100%;
  height: clamp(480px, 62vh, 740px);
  border-radius: 18px;
  overflow: hidden;
  background: radial-gradient(1200px 600px at 76% 50%, rgba(255,255,255,.03), transparent 60%),
              linear-gradient(180deg, #0a0b10, #0a0a0a);
  box-shadow: 0 10px 40px rgba(0,0,0,.45);
  border: 1px solid rgba(255,255,255,.06);
}

.rings-bg{
  position:absolute; inset:0;
  background:
    radial-gradient(closest-side, var(--ring) 1px, transparent 1px) center/ 480px 480px,
    radial-gradient(closest-side, var(--ring) 1px, transparent 1px) center/ 320px 320px,
    radial-gradient(closest-side, var(--ring) 1px, transparent 1px) center/ 160px 160px;
  animation: drift 22s linear infinite;
  opacity: .55;
  pointer-events: none;
}
@keyframes drift{
  0%{ transform: scale(1) translateX(0); filter:hue-rotate(0deg); }
  50%{ transform: scale(1.03) translateX(-1%); }
  100%{ transform: scale(1) translateX(0); filter:hue-rotate(360deg); }
}

.stage-head{
  position: relative;
  display:flex;
  align-items:center;
  justify-content: space-between;
  padding: 14px 16px;
  z-index: 2;
  backdrop-filter: blur(8px);
  background: linear-gradient(180deg, rgba(0,0,0,.35), transparent);
  border-bottom: 1px solid rgba(255,255,255,.06);
}
.stage-head .title{
  display:flex; gap:10px; align-items:baseline;
}
.stage-head .title strong{ font-size: 18px; color:var(--text); letter-spacing:.2px;}
.stage-head .title .muted{ color:var(--muted); font-size:13px; }

.tabs{ display:flex; gap:8px; }
.tab{
  position:relative; display:inline-flex; align-items:center; justify-content:center;
  padding:8px 12px; border-radius: 999px; color:var(--muted);
  background: rgba(255,255,255,.03); border:1px solid rgba(255,255,255,.06);
  transition: transform .15s ease, color .2s ease, background .2s ease;
}
.tab .underline{
  position:absolute; left:10px; right:10px; bottom:4px; height:2px; border-radius:2px;
  background: transparent; transition: background .2s ease, transform .2s ease;
  transform: scaleX(0);
  transform-origin: left;
}
.tab:hover{ transform: translateY(-1px); background: rgba(255,255,255,.05); }
.tab.active{ color:var(--text); box-shadow:0 6px 20px rgba(0,0,0,.25); }
.tab.active .underline{ background: var(--accent); transform: scaleX(1); }

.stage-body{ position:relative; z-index:1; height: calc(100% - 58px); }
.panel{ position:absolute; inset:0; padding:16px; display:flex; gap:14px; }
.panel-radar{ flex-direction: column; }
.panel-hourly{ flex-direction: column; }
.panel-alerts{ overflow:auto; }
.panel-storms{ overflow:hidden; display:flex; }

.kpis{
  display:flex; gap:16px; padding:10px; border-radius:14px; background: var(--glass);
  border:1px solid rgba(255,255,255,.08);
  animation: fadeIn .4s ease;
}
.kpi{ min-width:110px; }
.kpi-value{ font-weight:700; font-size:22px; color:var(--text); }
.kpi-label{ color:var(--muted); font-size:12px; }
.kpi-sub{ color:var(--muted); font-size:11px; opacity:.8; }

.radar-frame{
  flex:1 1 auto; width:100%; border:0; border-radius: 12px;
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.06);
  filter:saturate(1.05) contrast(1.02);
  background:#000;
}

.row{ display:grid; grid-template-columns: repeat(3, minmax(0,1fr)); gap:14px; }
.card{ background: var(--glass); border:1px solid rgba(255,255,255,.08); border-radius:14px; padding:14px; }
.card h4{ margin:0 0 8px 0; font-size:14px; color:var(--text); }
.axis{ display:flex; justify-content:space-between; color:var(--muted); font-size:12px; }

.spark-inline{ width:100%; height:42px; color: var(--accent); filter: drop-shadow(0 0 6px rgba(255,51,95,.2)); }

.alerts{ list-style:none; margin:0; padding:0; display:grid; gap:12px; }
.alert{ display:flex; gap:12px; padding:12px; border-radius:12px; background: rgba(255,255,255,.03); border:1px solid rgba(255,255,255,.08); }
.alert .pill{
  align-self:flex-start;
  font-size:11px; padding:4px 8px; border-radius:999px; letter-spacing:.6px;
  color:#fff; background: var(--accent); box-shadow: 0 6px 18px rgba(255,51,95,.2);
}
.alert.warning .pill{ background: var(--warn); }
.alert.watch .pill{ background: #3498db; }
.alert.advisory .pill{ background: #7f8c8d; }
.alert .alert-body h5{ margin:0 0 6px 0; font-size:14px; color:var(--text); }
.alert .alert-body p{ margin:0; color:var(--muted); font-size:13px; }
.alert .src{ margin-top:8px; display:inline-block; font-size:11px; color:var(--muted); opacity:.8; }

.empty{ margin:auto; color:var(--muted); font-size:14px; }

.ticker{ display:flex; gap:12px; align-items:stretch; animation: scrollX 30s linear infinite; }
.storm-card{
  min-width: 220px; display:flex; flex-direction:column; gap:6px;
  padding:12px; border-radius:12px; border:1px solid rgba(255,255,255,.08); background: rgba(255,255,255,.04);
  backdrop-filter: blur(6px);
}
.storm-name{ font-weight:700; color:var(--text); }
.storm-meta{ color:var(--muted); font-size:12px; display:flex; gap:10px; flex-wrap:wrap; }
.spin-dot{
  width:10px; height:10px; border-radius:999px; background: var(--accent);
  box-shadow: 0 0 0 0 var(--accent);
  animation: pulse 1.8s ease-out infinite;
}
@keyframes pulse{
  0%{ box-shadow: 0 0 0 0 rgba(255,51,95,.5); }
  70%{ box-shadow: 0 0 0 15px rgba(255,51,95,0); }
  100%{ box-shadow: 0 0 0 0 rgba(255,51,95,0); }
}
@keyframes scrollX{
  from{ transform: translateX(0); }
  to{ transform: translateX(-50%); }
}
@keyframes fadeIn{ from{ opacity:0; transform: translateY(6px); } to{ opacity:1; transform: translateY(0); } }

.muted{ color:var(--muted); }
.small{ font-size:12px; opacity:.9; }

@media (max-width: 1024px){
  .row{ grid-template-columns: 1fr; }
  .ticker{ animation-duration: 50s; }
}
